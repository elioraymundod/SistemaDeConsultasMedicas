<div class="card-body">
    <mat-card-title class="titulo">Mantenimiento de Solicitudes</mat-card-title>

    <mat-card class="margenArriba">
        <div class="container">
            <div class="col-12">
                <button mat-raised-button class="botones margenBotones" type="button">Crear Solicitud</button>
                <button mat-raised-button class="botones margenBotones" type="button" (click)="realizarBusqueda()">Buscar Solicitud</button>
                <button mat-raised-button class="botones margenBotones" type="button" (click)="limpiarCampos()">Limpiar filtro</button>
            </div>
            <hr>
            <div class="col-12">
                <form [formGroup]="filtrosFormGroup">
                    <div class="row">
                        <mat-form-field class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>Codigo Solicitud</mat-label>
                            <input matInput #codSolicitud placeholder="9999-88-77-66-5555555" maxlength="24" formControlName="codigoSolicitudFormControl" (change)="validarCodigoSolicitud()">
                        </mat-form-field>
                        <mat-form-field class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>No. Expediente</mat-label>
                            <input matInput #codigoSolicitud placeholder="9999-88-77-66-5555555" maxlength="24" formControlName="noExpedienteFormControl" (change)="validarNoExpediente()">
                        </mat-form-field>
                        <mat-form-field class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>No. Soporte</mat-label>
                            <input matInput #codigoSolicitud formControlName="noSoporteFormControl" maxlength="50" (change)="validarNoSoporte()">
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>Usuario Asignacion</mat-label>
                            <input matInput #codigoSolicitud placeholder="9999-88-77-66-5555555" maxlength="12" formControlName="usuarioAsignacionFormControl" (change)="validarUsuarioAsignacion()">
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>Fecha De</mat-label>
                            <input matInput [matDatepicker]="fechaDe" formControlName="fechaDeFormControl" readonly (ngModelChange)="validarFechaInicio()">
                            <mat-datepicker-toggle matSuffix [for]="fechaDe"></mat-datepicker-toggle>
                            <mat-datepicker #fechaDe></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>Fecha Hasta</mat-label>
                            <input matInput [matDatepicker]="fechaHasta" formControlName="fechaHastaFormControl" readonly (ngModelChange)="validarFechaFin()">
                            <mat-datepicker-toggle matSuffix [for]="fechaHasta"></mat-datepicker-toggle>
                            <mat-datepicker #fechaHasta></mat-datepicker>
                          </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>NIT</mat-label>
                            <input matInput #codigoSolicitud placeholder="9999-88-77-66-5555555" maxlength="24" formControlName="nitFormControl">
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>Tipo Solicitud</mat-label>
                            <mat-select formControlName="tipoSolicitudFormControl">
                              <mat-option *ngFor="let opcion of tipoSolicitud" [value]="opcion.codigo_dato_catalogo">
                                {{opcion.nombre}}
                              </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="fill" class="col-lg-4 col-md-4 col-sm-12">
                            <mat-label>Estado Solicitud</mat-label>
                            <mat-select formControlName="estadoSolicitudFormControl">
                              <mat-option *ngFor="let opcion of estados" [value]="opcion.codigo_dato_catalogo">
                                {{opcion.nombre}}
                              </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </form>
            </div>
            
        </div>
        <div *ngIf="mostrarTabla === true">
            <div class="mat-elevation-z8 mt-2">
                <table mat-table [dataSource]="dataSource">
                    <!-- Columna codigo solicitud -->
                    <ng-container matColumnDef="codigo_solicitud">
                        <th mat-header-cell *matHeaderCellDef class="header-table">Codigo solicitud</th>
                        <td mat-cell *matCellDef="let dato"> {{dato.codigo_solicitud}} </td>
                    </ng-container>

                    <!-- Columna descripcion-->
                    <ng-container matColumnDef="descripcion">
                        <th mat-header-cell *matHeaderCellDef class="header-table">Descripcion </th>
                        <td mat-cell *matCellDef="let dato"> {{dato.descripcion}} </td>
                    </ng-container>

                    <!-- Columna Fecha creacion-->
                    <ng-container matColumnDef="fecha_creacion">
                        <th mat-header-cell *matHeaderCellDef class="header-table">Fecha creacion </th>
                        <td mat-cell *matCellDef="let dato"> {{dato.fecha_creacion}} </td>
                    </ng-container>

                    <!-- Columna NIT-->
                    <ng-container matColumnDef="nit">
                        <th mat-header-cell *matHeaderCellDef class="header-table">NIT </th>
                        <td mat-cell *matCellDef="let dato"> {{dato.nit}} </td>
                    </ng-container>

                    <!-- Columna Numero expediente-->
                    <ng-container matColumnDef="no_expediente">
                        <th mat-header-cell *matHeaderCellDef class="header-table">Numero Expediente </th>
                        <td mat-cell *matCellDef="let dato"> {{dato.no_expediente}} </td>
                    </ng-container>

                    <!-- Columna Numero soporte-->
                    <ng-container matColumnDef="no_soporte">
                        <th mat-header-cell *matHeaderCellDef class="header-table">Numero Soporte </th>
                        <td mat-cell *matCellDef="let dato"> {{dato.no_soporte}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <mat-paginator [pageSizeOptions]="[15]" showFirstLastButtons></mat-paginator>
            </div>
        </div>
    </mat-card>

</div>